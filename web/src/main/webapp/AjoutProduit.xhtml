<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	

<ui:composition template="/templates/common.xhtml">
	
	<ui:define name="title">Ajout Produit</ui:define>
	<ui:define name="content">

<h:body>
		<h:form id="form" class="form-horizontal">

			<p:outputLabel for="button" value="Date de Peremption:" />
			<p:calendar id="button" value="#{stockBean.date_peremption}"
				mode="button" />
				 <p:spinner />

			<h:outputLabel for="idCategorie">Categorie :</h:outputLabel>
			<h:selectOneListbox id="idCategorie" size="1"
				value="#{stockBean.id_cat}"
				valueChangeListener="#{stockBean.ChargementSousCategories}"
				onchange="submit()">
				<f:selectItem itemLabel="Veuilez choisir une catégorie"
					itemValue="0" />
				<f:selectItems var="ctg" value="#{stockBean.categories}"
					itemValue="#{ctg.id_cat}" itemLabel="#{ctg.libelle_cat}" />
			</h:selectOneListbox>

			<h:outputLabel for="idSousCategorie">Sous Categorie :</h:outputLabel>
			<h:selectOneListbox id="idSousCategorie" size="1"
				value="#{stockBean.id_sous_cat}"
				valueChangeListener="#{stockBean.ChargementLibelle}"
				onchange="submit()">
				<f:selectItem itemLabel="Veuilez choisir une sous catégorie"
					itemValue="0" />
				<f:selectItems var="ssctg" value="#{stockBean.sous_categories}"
					itemValue="#{ssctg.id_sous_cat}"
					itemLabel="#{ssctg.libelle_sous_cat}" />
			</h:selectOneListbox>

			<h:outputLabel for="idLibelleProduit">Libelle :</h:outputLabel>
			<h:selectOneListbox id="idLibelleProduit" size="1"
				value="#{stockBean.id_prod}">
				<f:selectItem itemLabel="Veuilez choisir un libelle" itemValue="0" />
				<f:selectItems var="pdt" value="#{stockBean.produits}"
					itemValue="#{pdt.id_prod}" itemLabel="#{pdt.libelle_prod}" />
			</h:selectOneListbox>


			<div class="form-group row">
				<label for="idExtensibilite" class="control-label col-sm-4">Duree
					Extensibilite:</label>
				<div class="col-sm-8">
					<h:inputText id="idExtensibilite" class="form-control"
						value="#{stockBean.duree_ext_stock}">
						<f:convertNumber integerOnly="true" type="number" />
					</h:inputText>
				</div>
			</div>
			<div class="form-group row">
				<label for="idQuantiteInitiale" class="control-label col-sm-4">Quantite
					initiale:</label>
				<div class="col-sm-8">
					<h:inputText id="idQuantiteInitiale" class="form-control"
						value="#{stockBean.qte_initiale}" />
				</div>
			</div>
			<div class="form-group row">
				<label for="idPrix" class="control-label col-sm-4">Prix :</label>
				<div class="col-sm-8">
					<h:inputText id="idPrix" class="form-control"
						value="#{stockBean.prix}" />
				</div>
			</div>

			<div class="form-group row">
				<div class="offset-sm-4 col-sm-8">
					<h:commandButton value="Ajouter"
						action="#{stockBean.AjoutProduitDansStock}" />
				</div>
			</div>
		</h:form>
		</h:body>
		<h:outputText class="erreur" value="#{clientBean.message}"></h:outputText>
	</ui:define>
</ui:composition>
</html>
